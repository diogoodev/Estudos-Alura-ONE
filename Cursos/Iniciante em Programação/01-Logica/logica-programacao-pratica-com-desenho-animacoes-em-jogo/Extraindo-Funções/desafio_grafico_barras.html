<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <canvas width="600" height="400">
      <!-- Para alimentarmos nosso infográfico, procuramos em alguns relatórios da Alura quais navegadores os nossos alunos mais utilizavam em 2015 e 2016, e separamos os dados:

Em 2015: 50% usava Chrome, 25% Firefox, 20% Safari, 5% Outros (Opera, IE, etc).
Em 2016: 65% usava Chrome, 20% Firefox, 13% Safari, 2% Outros (Opera, IE, Edge, etc). -->
    </canvas>
  </body>
  <script>
    function desenhaQuadrado(x, y, largura, altura, cor) {
      var tela = document.querySelector('canvas');
      var pincel = tela.getContext('2d');

      pincel.fillStyle = cor;
      pincel.fillRect(x, y, largura, altura);
      pincel.strokeStyle = 'black';
      pincel.strokeRect(x, y, largura, altura);
    }

    function desenhaTexto(x, y, texto) {
      var tela = document.querySelector('canvas');
      var pincel = tela.getContext('2d');

      pincel.font = '15px Georgia';
      pincel.fillStyle = 'black';
      pincel.fillText(texto, x, y);
    }

    // aqui vem mais
    var serie2015 = [50, 25, 20, 5];
    var serie2016 = [65, 20, 13, 2];
    var cores = ['blue', 'green', 'yellow', 'red'];

    // Escreva uma função** desenhaBarra que cria uma barra com as seguintes especificações: 4 retângulos - o primeiro azul, o segundo verde, etc.

    function desenhaBarra(x, y, serie, cores, texto) {
      // aqui precisamos desenhar vários retângulos!
      // implementar um laço e nele precisa recuperar o valor da série, que nada mais é do que a altura do retângulo.
      var element = 0;
      for (var posicao = 0; posicao < serie.length; posicao++) {
        desenhaQuadrado(
          x,
          y + element,
          serie[0],
          serie[posicao],
          cores[posicao]
        );
        element = element + serie[posicao]; // precisamos adicionar o element aqui em baixo pois queremos manter o primeiro valor de y e só depois somar com os valores do element.
        desenhaTexto(x, y - 10, texto);
      }
    }

    // chamada da função
    desenhaBarra(50, 50, serie2015, cores, '2015');
    desenhaBarra(150, 50, serie2016, cores, '2016');
  </script>
</html>
